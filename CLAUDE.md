당신은 시니어 풀스텍 개발자입니다. 신중하고, 자세한 답변을 제공하며 뛰어난 사고력을 가지고 있습니다.


- 사용자가 질문하면서 먼저 단계별로 생각하며 계획을 세우고 답변하세요.
- 항상 올바르고, 모범적인 DRY 원칙(중복을 피하는 코드), 버그 없는 코드를 작성하세요.
- 가독성을 우선하되, 성능도 고려한 코드를 작성하세요.
- 요청된 모든 기능을 완전히 구현하세요.
- 코드는 간결하고 불필요한 설명은 최소화하세요.
- 모르는 경우는 모른다고 답하고, 추가 조사가 필요하면 이를 언급하세요.
- 별도의 요청이 없으면 모든 응답은 한국어로 답하세요.
- 사용자가 주니어 개발자라고 가정하고, 코드에 대한 자세한 설명을 모든 답변에 포함하세요.
- 경로 설정 된 디렉토리를 들어가서 항상 접근 가능하게 하십시오.
- Context7을 사용해서 관련 기술스텍 컨텍스트를 항상 먼저 가져오십시오
- 하나의 큰 작업이 끝나면 browsermcp 를 사용 해 직접 테스트 및 디버깅하고 결과를 알려주자
- mcp-feedback-enhanced 토큰 낭비없이 해당 mcp를 잘 활용해서 피드백을 주고 받자

마크다운 작성 규칙
- 마크다운에 코드블록 작성 시 두 개의 공백을 사용해서 들여쓰기 합니다. 

아래는 PRD인데 참고해줘

무서핑 공포 커뮤니티 – PRD (Product Requirements Document)

프로젝트 개요

무서핑(Nosurfing)은 사용자들이 익명으로 창작하거나 AI를 통해 생성된 공포 소설과 이미지를 공유하는 커뮤니티 서비스입니다. 회원가입 없이 누구나 무료로 이용할 수 있는 익명 게시판 형태로 제공되며, Google AdSense 광고 수익을 주요 수익 모델로 삼고 있습니다. 모바일 환경에 최적화된 세로스크롤 UX를 갖추고 있어 스마트폰에서 공포 콘텐츠를 웹툰 보듯이 편하게 감상할 수 있습니다. 다크 모드를 기본 지원하여 야간 이용에 최적화하고, 향후 PWA(Web App) 형태로 제공하여 안드로이드/iOS 환경에서도 별도 앱 없이 웹앱으로 활용할 계획입니다.
•	서비스 목표: 공포 장르에 특화된 익명 커뮤니티를 구축하여 초기 사용자 풀을 확보하고, 6개월 내 손익분기점 달성 및 12개월 내 월 $1,000 수준 광고 수익 창출을 목표로 합니다. 이를 위해 콘텐츠 품질 향상과 이용자 체류 시간 증대에 중점을 둡니다. (※ 공포 콘텐츠 특성상 광고 정책 준수와 수익화에는 위험 요소가 있어 현실적인 지표 모니터링과 대책 마련이 필요합니다.)
•	타겟 사용자: 공포 소설 및 괴담에 관심이 많은 10대 후반~30대 초반 이용자. 익명으로 자유롭게 창작하고 소비하기를 원하는 커뮤니티 사용자층.
•	서비스 특징: 익명성 보장, AI 기반 콘텐츠 자동 생성, 사용자 참여형 게임 요소 도입으로 차별화된 경험 제공. 특히 AI (GPT-3.5 Turbo 및 DALL·E 3)를 활용하여 손쉽게 공포 이야기를 만들고 분위기 있는 이미지를 생성함으로써 창작 장벽을 낮추고 컨텐츠 생산을 촉진합니다.

Note: 서비스의 핵심 가치는 **‘익명성’**과 **‘공포 테마’**에 있습니다. 따라서 콘텐츠 수위를 관리하여 Google의 충격적인 콘텐츠 정책을 위반하지 않도록 주의해야 하며, 익명성으로 인한 악용(욕설, 도배 등)을 막기 위한 콘텐츠 중재 시스템이 필수적입니다. 기술적으로 대부분 구현 가능하지만, 광고 정책 준수, 익명성 유지와 보안, AI API 비용 관리 측면의 도전 과제가 예상됩니다.

유저 플로우

무서핑 서비스의 전형적인 사용자 흐름은 다음과 같습니다:
1.	홈 피드 진입: 사용자가 사이트에 접속하면 최신 공포 소설 피드가 표시됩니다. 별도 로그인 절차 없이 바로 콘텐츠 열람이 가능하며, 각 게시물에는 썸네일 이미지(생성된 공포 분위기 이미지)와 제목, 짧은 미리보기 글이 노출됩니다.
2.	게시물 열람 및 반응: 사용자는 관심 가는 글을 눌러 상세 내용을 읽습니다. 게시물 상단에는 AI가 생성한 삽화 이미지가, 하단에는 AI 또는 사용자가 작성한 공포 소설 본문이 표시됩니다. 무서운 정도에 따라 컨텐츠 경고 문구가 나타날 수 있으며, 다크 모드 환경에서 가독성을 높인 서식으로 제공됩니다. 마음에 드는 게시물에는 **‘좋아요’**를 눌러 반응할 수 있습니다. 좋아요 버튼은 서비스 테마에 맞춰 💀 해골, 🔪 식칼 등 커스텀 아이콘으로 표시되며, 집계된 좋아요 수는 게시물 인기 순 정렬 및 월간 랭킹에 활용됩니다. (👎 비추천 기능은 초기에는 제공하지 않아 긍정적 참여를 유도합니다.)
3.	콘텐츠 공유: 감명 깊은 글이나 무서운 게시물을 친구와 공유하고 싶을 경우 링크 복사 기능을 사용하여 URL을 전달할 수 있습니다. (별도의 SNS 연동 버튼 대신 URL 공유 기능만 제공하여 간단히 컨텐츠를 퍼트릴 수 있도록 합니다.)
4.	새 게시물 작성: 사용자는 우측 하단의 ‘글쓰기’ 버튼을 통해 새 공포 소설을 게시할 수 있습니다. 이때 두 가지 옵션이 있습니다.
o	직접 작성: 제목과 본문을 사용자가 직접 입력하여 게시합니다. 이 경우에도 원하는 경우 본문에 어울리는 대표 이미지를 AI 생성 버튼을 눌러 얻을 수 있습니다.
o	AI 생성 지원: 간단한 프롬프트(예: “폐가에서 귀신을 만난 이야기”)를 입력하면 GPT-3.5 Turbo 모델이 약 1,0001,500자 분량의 공포 단편을 자동 생성하고, 동시에 DALL·E 3가 해당 내용과 어울리는 이미지를 생성해 줍니다. 사용자는 생성된 결과를 미리보기로 확인한 후, 마음에 들면 게시하고 아니면 프롬프트를 수정하거나 재생성할 수 있습니다. **(생성은 1회당 약 58초 소요)**
생성된 이미지/텍스트는 게시 전에 사용자가 일부 편집하거나 보강할 수도 있습니다. 단, 오남용 및 비용 관리를 위해 AI 콘텐츠 생성은 세션당 하루 3회로 제한하며, 추가 생성을 원할 경우 일정 시간 기다리거나 일일 횟수 초기화를 위해 다음 날까지 대기해야 합니다. 이는 AI API 비용을 통제하고 한 사용자가 대량 생성으로 악용하는 것을 방지하기 위함입니다.
5.	게시물 등록 및 익명 프로필: 사용자가 새 글을 등록하면 별명 없는 익명 사용자로 게시물이 올라갑니다. 게시자는 세션 기반 UUID로 식별되며, 해당 세션 동안 자신의 게시물에 한해 수정/삭제 기능을 사용할 수 있습니다. (게시 후 3분 이내에만 수정/삭제 가능하며, 이를 위해 게시 시 발급되는 JWT 편집 토큰이 검증됩니다.) 사용자는 사이트 이용 중 무작위로 할당된 임시 닉네임(예: 공포마니아#1234)을 부여받아 커뮤니티 내에서 표시되지만, 개인 식별 정보는 수집되지 않습니다. 세션이 종료되거나 쿠키가 만료되면 닉네임과 작성자 표시는 더 이상 연결되지 않으며 완전한 익명이 유지됩니다.
6.	월간 베스트 및 랭킹: 매월 말 좋아요 수 상위권의 게시물들은 이달의 베스트 공포글 섹션에 노출되어 커뮤니티에서 명예를 얻습니다. (예: 🏆 금주의 챔피언 배지 아이콘 표시) 이를 통해 양질의 콘텐츠 생산을 장려합니다. 익명 서비스 특성상 개별 사용자의 누적 활동량을 추적하기는 어렵지만, 쿠키 범위에서 경험치 포인트를 부여하여 일정 활동을 달성하면 호러 테마 배지를 보여주는 간단한 게이미피케이션 요소를 고려 중입니다. 예를 들어 한 세션에서 10편 이상의 글을 작성한 경우 프로필 옆에 “📚 다작 귀신” 배지를, 50회 이상 좋아요를 누른 경우 “👍 열혈 관객” 배지를 부여하는 식입니다. 이 배지는 사용자에게 추가 노출되지 않고 본인 화면에만 작게 표시되며, 익명성을 해치지 않는 선에서 자기 만족과 지속 이용 동기를 부여하기 위한 장치입니다.
7.	미니게임 (Popping Bubbles): 커뮤니티 이용 중 쉬어가는 요소로, 사이드바에 간단한 공포 테마 미니게임을 제공합니다. 예를 들어 검은 화면에서 랜덤하게 나타나는 유령 방울을 터치하여 점수를 얻는 “팝핑 귀신방울” 게임이 있습니다. 사용자는 게임을 통해 소소한 재미를 얻고, 높은 점수를 달성하면 이를 스크린샷이나 커뮤니티 게시글로 공유하여 다른 이용자들과 즐길 수 있습니다. (점수는 세션 단위로 저장되고 랭킹이나 보상 체계와 연동되진 않습니다. 추후 이용자 반응에 따라 이벤트성 보상 고려.)

*상기 유저 플로우는 웹 기반 서비스를 전제로 하며, 모바일 웹 환경에 최적화되어 있습니다. 추후 트래픽이 증가하고 사용자 요청이 있을 경우, iOS/안드로이드 네이티브 앱은 개발하지 않고 **웹앱(PWA)*으로 패키징하여 제공함으로써 개발 비용을 절감할 계획입니다.

핵심 기능

무서핑 서비스의 주요 기능은 다음과 같습니다:
•	① 익명 게시판 및 좋아요 정렬
:white_check_mark: 익명성 보장 – 로그인이나 개인정보 제공 없이도 게시글을 작성하고 열람할 수 있습니다. 각 사용자는 세션별 임시 UUID로 식별되며, 게시물에는 개별 익명 닉네임만 표시됩니다. 이를 통해 자유로운 글 작성이 가능하면서도, 작성자 추적은 원천적으로 불가능하게 설계합니다. 게시글에는 좋아요(추천) 기능이 있어, 사용자들이 마음에 드는 이야기에는 해골 아이콘 등을 눌러 공감을 표현할 수 있습니다. 좋아요 수를 기준으로 한 인기순 정렬이 지원되며, 이를 통해 양질의 콘텐츠가 부각됩니다. 단일 기기에서의 중복 좋아요는 방지하기 위해 쿠키 및 IP 기반 체크를 수행하며, 과도한 좋아요 조작 시도는 서버에서 Rate Limiting으로 차단합니다.
:white_check_mark: 베스트 콘텐츠 부각 – 일정 기간 동안 높은 호응을 얻은 게시물을 모아서 월간 베스트 섹션에 노출합니다. 익명 게시판 특성상 사용자별 팔로우나 구독 기능은 없지만, 전체 커뮤니티 차원에서 화제가 된 콘텐츠를 한눈에 보여줘 신규 이용자의 흥미를 끌고 기존 이용자의 참여도를 높입니다.
•	② AI 공포 콘텐츠 생성
:artificial_satellite: AI 이미지 & 텍스트 생성 – OpenAI의 GPT-3.5 Turbo를 활용해 공포 소설 본문을 자동 생성하고, DALL·E 3를 통해 분위기 있는 삽화 이미지를 만들어냅니다. 사용자는 입력한 간단한 아이디어를 바탕으로 AI가 만들어낸 완성도 높은 (길이 약 3~5분 읽기 분량의) 이야기를 얻을 수 있고, 별도 이미지 편집 기술 없이도 멋진 이미지를 확보할 수 있습니다. 이 기능은 창작에 익숙지 않은 이용자도 쉽게 콘텐츠를 생산하도록 도와 커뮤니티 활성화를 유도합니다.
:artificial_satellite: 콘텐츠 생성 제약 및 필터링 – AI 사용에 따른 비용과 악용 방지를 위해 **1인당 일일 생성 횟수 제한(예: 3회)**을 둡니다. 또한 AI가 생성한 콘텐츠가 서비스 정책에 어긋나지 않도록 콘텐츠 필터링을 적용합니다. OpenAI의 Moderation API와 Google Cloud Vision SafeSearch를 활용하여 생성된 텍스트나 이미지에 과도한 폭력성, 선정성, 혐오 표현 등이 없는지 자동 검열합니다. 부적절한 내용이 발견될 경우 사용자가 게시 전 알림을 받고, 경미한 경우 편집 유도 또는 게시 차단, 심각한 경우 아예 생성 단계에서 차단됩니다. 이 다중 필터링으로 AdSense 정책 준수와 이용자 보호를 동시에 도모합니다.
:artificial_satellite: 생성 결과 편집 및 공유 – AI가 만든 결과물은 게시 전 사용자가 마음에 들도록 추가 편집이 가능합니다. 예를 들어 이야기를 더 소름 끼치게 각색하거나, 이미지의 일부를 교체할 수 있습니다. 최종 게시 후에도 3분 이내라면 본문 수정이 가능하므로, AI 특유의 부자연스러운 표현을 사용자가 약간 다듬어 완성도를 높일 수 있습니다. 모든 AI 생성 콘텐츠에는 투명성 차원에서 “🤖 AI 생성” 라벨을 표시하여 사용자가 AI 콘텐츠임을 인지하도록 합니다.
•	③ 경량 게임 요소 및 보상
:video_game: 미니게임 (Popping Bubbles) – 커뮤니티 이용 중 간단히 즐길 수 있는 HTML5 기반의 미니게임을 제공합니다. 공포 분위기를 살린 브금(BGM)이 흐르는 가운데, 유령 모양 비눗방울을 터뜨리는 타임어택 게임으로, 이용자는 게임을 통해 잠시 분위기를 환기하거나, 자신의 기록을 커뮤니티에 자랑할 수 있습니다. 이 게임은 React 기반 페이지에서 Canvas 요소로 구현되며, lazy loading 처리로 메인 서비스 이용에 지장을 주지 않습니다. 게임 결과나 점수는 개인정보 수집 없이 세션 내에만 저장되고, 일정 시간 경과 시 초기화됩니다.
:military_medal: 레벨 및 배지 (게이미피케이션) – 이용자의 지속 참여를 독려하기 위해 가벼운 경험치 및 배지 시스템을 도입합니다. 예를 들어 게시글 작성이나 좋아요 누르기 등의 행동에 포인트를 부여하고, 누적 점수가 일정 기준을 넘으면 레벨 업이나 배지를 획득하는 식입니다. 배지는 공포 콘셉트에 맞춰 “🎖️호러 마니아”, “👻전설의 작가” 등의 칭호로 디자인되며, 익명 닉네임 옆에 아이콘으로 표시됩니다. (익명성 유지 차원에서 세션을 넘어 지속되는 개인 프로필은 최소화하되, 쿠키를 활용하여 어느 정도의 누적치는 기기별로 기록할 계획입니다.) 이 기능은 어디까지나 동기 부여용 부가 요소이며, 랭킹 경쟁보다는 개인적 성취감에 중점을 둡니다.
•	④ 콘텐츠 관리 및 신고
:shield: 콘텐츠 중재 시스템 – 자유로운 익명 커뮤니티인 만큼 악성 콘텐츠 유통을 막기 위해 다층적인 모더레이션을 적용합니다. 금칙어 리스트(badwords-ko 라이브러리 활용)를 통해 게시물 제목 및 본문에 대한 1차 필터링을 수행하고, OpenAI Moderation API와 Perspective API를 통해 혐오/폭력/음란성 여부를 AI가 2차 판단합니다. AI 필터를 통과하더라도 이용자 신고가 다수 접수된 게시물은 관리자가 최종 검수하여 필요 시 숨김 또는 삭제 조치합니다. 특히 충격적이거나 잔혹한 이미지/내용은 AdSense 정책 위반 및 청소년 유해 가능성이 높으므로, 이러한 콘텐츠가 업로드되면 노출 제한 (예: 성인경고 인터스티셜 표시 후 클릭 시 열람) 등의 조치를 병행할 예정입니다.
:shield: 익명성 악용 방지 – 익명 게시판이지만 악성 유저에 대한 제재도 필요합니다. 사용자 신고나 모니터링을 통해 악의적 도배, 욕설, 불법 콘텐츠 유포 등 커뮤니티 이용수칙을 지속적으로 위반하는 IP는 일정 기간 차단합니다. VPN 등을 통한 우회가 가능함을 감안하여 Cloudflare Turnstile 같은 CAPTCHA로 봇/스팸을 걸러내고, 서버 측에서는 Rate Limiting과 UA(User Agent) 검사로 비정상적 트래픽을 감소시킵니다. 지나친 익명성 악용 시 서비스 운영자가 식별자에 기반한 글쓰기 제한 등을 할 수 있도록 관리자용 콘솔도 마련합니다. (예: 동일 IP 또는 세션에서 단시간 내 다수의 게시글 등록 시 자동 제한)
•	⑤ 수익 모델 (Ads)
:money_with_wings: 광고 게재 – 수익 창출을 위해 Google AdSense 광고를 웹사이트에 통합합니다. 배너 광고 위치는 사용자 경험을 해치지 않도록 헤더 배너, 피드 목록 중간, 게시글 본문 하단 등에 삽입하며, Next.js의 동적 로딩(next/script)으로 광고 스크립트를 적용합니다. 초기 트래픽 규모를 고려하여 반응형 광고 단위를 활용하고, 추후 트래픽 증가 시 더 최적화된 레이아웃을 A/B 테스트할 계획입니다.
:money_with_wings: 정책 준수 및 대안 – 공포 콘텐츠 특성상 AdSense의 충격적 콘텐츠 정책 위반으로 승인이 거부되거나 나중에 게재 제한을 당할 가능성이 있습니다. 이를 대비하여 콘텐츠 등급 표시(예: 19+ 콘텐츠 경우 성인 경고)와 자체 콘텐츠 검열을 강화하고, 꼭 필요한 수준 이상으로 잔혹한 이미지는 금지합니다. 만약 Google 측 정책 문제로 수익화에 어려움을 겪을 경우 네이버 애드포스트나 카카오 애드핏 등의 국내 광고 네트워크도 예비적으로 검토합니다.
(유료 구독 모델이나 유료 아이템 판매 등은 도입하지 않습니다. 모든 기능을 회원가입 없이 무료 제공하며, 서비스 수익은 광고에 한정됩니다.)

기술 스택

무서핑 프로젝트는 최신 웹 기술과 서버리스 아키텍처를 활용하여 높은 개발 생산성과 확장성을 확보합니다. 주요 기술 스택과 구현 방법은 아래와 같습니다:
•	Frontend: Next.js 14+ (최신 15.x 버전까지 고려)
o	React 기반 프레임워크로, App Router와 SSR/ISR을 통해 초기 로딩 성능과 SEO를 확보합니다. Turbopack을 이용한 개발 환경 성능 향상과, Partial Hydration 등 최신 기능을 적극 활용합니다.
o	Tailwind CSS로 신속한 UI 스타일링을 하고, 공포 테마에 맞게 다크 모드 디자인을 구축합니다. React State 관리에는 **React Query(SWR)**를 이용하여 실시간 데이터 갱신과 캐싱 전략을 구현합니다.
o	모바일 퍼스트 디자인을 채택하여 다양한 화면 크기에 대응하는 반응형 UI를 설계했습니다. 또한, PWA 지원을 통해 모바일 홈 화면 바로가기 추가 및 푸시 알림(추후 도입 시) 등을 고려합니다.
•	Backend: Node.js (Vercel Serverless Functions) + Supabase(PostgreSQL)
o	Supabase: 게시글, 좋아요 데이터, UUID 등은 모두 Supabase의 PostgreSQL에 저장됩니다. Supabase의 **Row Level Security (RLS)**를 활용하여 각 익명 세션이 자기 데이터만 변경할 수 있도록 권한을 제어합니다. 예를 들어, 게시물 수정/삭제는 JWT에 포함된 세션 UUID와 게시물 레코드의 작성자 UUID를 비교하여 일치할 때만 허용하는 정책을 적용합니다. RLS 정책과 함수(jwt()) 등을 이용해 익명 사용자에도 안전한 데이터 처리 환경을 구축합니다.
o	Supabase Auth: Supabase의 익명 로그인 기능(signInAnonymously)을 사용하여 사용자를 인증합니다. 로그인 없이도 익명 세션 ID를 발급받아 Supabase에 연결하는 방식으로, 사용자는 별도의 인증 과정 없이도 데이터베이스가 요구하는 최소한의 인증 상태를 갖춥니다. 이렇게 생성된 익명 사용자는 auth.uid()로 식별되며, DB 레벨에서 세션별 데이터 격리가 가능합니다. (참고: 회원 가입/로그인은 제공하지 않으므로 이메일/소셜 OAuth 등은 미사용)
o	Vercel Serverless Functions: Next.js API Route 또는 Server Actions를 통해 서버리스 함수가 구동됩니다. OpenAI API 호출, 이미지 변환, 콘텐츠 필터링 등의 작업은 Vercel 서버리스 함수로 처리하며, 호출량에 따라 자동 스케일링됩니다. Fluid Compute 모델 활성화를 통해 콜드스타트 지연을 최소화하고, AI 생성과 같은 I/O 지연 작업을 효율적으로 처리합니다. 다만 장시간 실행되는 작업은 응답 스트림 처리나 백그라운드 처리로 전환하여 함수 타임아웃을 방지합니다. (Vercel 서버리스 한계: 10초 내 응답 권장, 최대 60–800초 제한)
o	Edge Network & CDN: Vercel의 글로벌 엣지 네트워크를 통해 정적 자산(이미지, CSS, JS)을 사용자와 가까운 서버에서 제공하고, Next.js의 **ISR(Incremental Static Regeneration)**을 활용하여 빈번히 변경되지 않는 페이지를 정적으로 캐싱합니다. 또한 Cloudflare 등 CDN과 연계해 이미지와 미디어 파일을 캐싱하여 응답 속도를 높입니다.
•	AI & Third-party Services:
o	OpenAI API: GPT-3.5 Turbo와 DALL·E 3 모델을 사용하며, 각각 REST API로 통신합니다. 비용 효율화를 위해 유사한 프롬프트에 대한 결과는 Redis 캐싱하여 재사용을 시도하고, 동시에 여러 요청이 들어오면 배치 처리를 통해 API 호출 횟수를 줄입니다. OpenAI 호출에 대한 예산 모니터링을 설정하고, 월별 사용량이 예산을 넘지 않도록 레이트 제한과 프롬프트 길이 최적화 등을 시행합니다.
o	이미지/텍스트 필터링: DALL·E 3로 생성된 이미지는 업로드 전에 Cloud Vision API의 SafeSearch로 폭력성/음란성 레이블을 점검합니다. GPT로 생성된 텍스트는 OpenAI Moderation API로 1차 필터 후, 필요한 경우 국내 기준에 맞는 추가 금칙어 필터를 적용합니다. 이를 통해 NSFW나 청소년 유해 콘텐츠가 노출되지 않도록 최대한 사전에 차단합니다.
o	알림/실시간: 댓글 기능은 제공하지 않지만, 추후 사용자 요청에 따라 특정 작가(익명이지만 세션 지속 시 닉네임으로 구분)의 새 글 알림 등 실시간 기능을 고려할 수 있습니다. 이를 위해 Supabase Realtime으로 게시판 신규 글 이벤트를 구독하거나, Web Push API를 통한 푸시 알림 도입을 검토합니다. 다만 초기 버전에서는 실시간 새 글 갱신보다는 사용자가 수동 새로고침하거나 주기적으로 ISR 갱신된 목록을 확인하는 방식으로 구현해 인프라 부하를 낮춥니다.
o	로그 및 모니터링: Vercel과 Supabase의 Observability 도구를 활용하여 서버리스 함수 호출 추이, 오류 로그, DB 쿼리 성능을 모니터링합니다. 또한 주요 지표(일일 AI 생성 호출 수, 일일 활성 사용자 수, 페이지 로딩 속도 등)를 대시보드화하여 서비스 현황을 추적하고, 이상 징후 발생 시 신속 대응합니다. Sentry 등을 연결해 클라이언트 에러도 수집, 사용자 환경에서의 문제도 꾸준히 개선할 예정입니다.
•	기타:
o	Upstash Redis: 실시간 인기글 집계, 캐싱 등에 서버리스 Redis(Upstash)를 사용합니다. 예를 들어, 좋아요 수 top N 게시물을 5분 간격으로 Redis에 캐시하여 급상승 인기글 등의 조회 성능을 높이고 DB 부하를 줄입니다. 또한 AI 프롬프트별 생성 결과를 캐싱하여 동일 요청 반복 시 응답 속도를 향상시킵니다. (단, 공포 소설은 프롬프트가 매번 다양할 가능성이 높아 캐싱 효율은 제한적일 수 있습니다.)
o	스토리지: 사용자 업로드 이미지나 AI 생성 이미지는 Supabase Storage나 Vercel의 Blob 스토리지에 저장됩니다. 트래픽에 따라 효율적인 옵션을 선택하며, 대용량 미디어는 Cloudflare R2와 같은 대안도 고려합니다. 이미지 파일 이름이나 경로에는 민감정보를 넣지 않고, 공개용 버킷에 업로드하되 만료 URL을 사용해 무단 접근을 방지합니다.
o	보안: 모든 페이지에 대해 **HTTPS(TLS)**를 적용하고, 중요한 쿠키에는 HttpOnly, Secure 플래그를 설정합니다. 콘텐츠 삽입 공격 방지를 위해 CSP(Content Security Policy) 헤더를 설정하고, XSS 필터링도 적용합니다. 또한 데이터베이스에 저장되는 IP 등 최소한의 식별정보는 **해시화(SHA256)**하여 보관하고, 게시물/세션 연결 데이터는 이용 목적 달성 후 지속 기간을 정해 파기하여 개인정보보호법을 준수합니다.

도전 과제 및 고려 사항

무서핑 프로젝트를 성공적으로 운영하기 위해서는 기술 구현뿐 아니라 정책 준수와 운영상의 리스크 관리가 중요합니다. 다음은 주요 과제와 대응 방안을 정리한 것입니다:
•	1) 광고 정책 및 수익화 과제: 공포 콘텐츠 특성상 잔혹하거나 충격적인 요소가 포함될 가능성이 높아 Google AdSense의 콘텐츠 정책을 위반할 위험이 있습니다. 승인 단계에서 거절되거나, 운영 중 게재 제한/계정 정지 등의 리스크가 있으므로, 콘텐츠 모니터링 강화와 자체 필터링으로 문제 소지를 사전에 차단해야 합니다. 예를 들어 지나친 고어(gore) 표현은 금지하고, 이용자에게도 가이드라인을 제시해 광고 친화적인 공포 콘텐츠를 지향하도록 유도합니다. 또한 무효 트래픽(부정 클릭) 발생 시 AdSense 계정이 폐쇄될 수 있으므로, 사용자가 광고를 과도하게 클릭하지 않도록 클릭 유도 금지 문구를 명시하고 이상 클릭 패턴은 감지하여 차단합니다. 만약 AdSense 수익화가 어려울 경우를 대비해, 대체 광고 플랫폼이나 스폰서십, 제휴 마케팅 등도 중장기적으로 고려합니다.
•	2) 익명성의 양날의 검: 익명 게시판은 사용자 진입 장벽을 낮춰 참여를 활성화하지만, 반대로 악성 사용자 차단이 어렵고 책임 소재가 불분명하다는 문제점이 있습니다. 한 사용자가 다중 익명 세션을 통해 도배, 욕설, 분란을 반복하면 커뮤니티 질서 유지가 힘들 수 있습니다. 이를 완화하기 위해 세션 및 기기 기반 제재 방안을 마련합니다. 예를 들어 동일 브라우저 세션에서 일정 시간 내 반복 등록되는 글은 임시 제한하거나, 여러 사용자의 신고가 누적되면 해당 세션의 모든 글을 일괄 숨기는 등의 조치입니다. 또한 Cloudflare Bot Management나 CAPTCHA를 도입해 사람인 척하는 자동화 공격을 봉쇄합니다. 익명성을 근본적으로 유지하면서도, 서비스 이용 규칙을 어긴 경우는 IP 대역 차단 등 강력 조치를 예고함으로써 억제 효과를 노립니다. 서비스 운영 정책을 명확히 공지하고, 커뮤니티 자정 기능(신고, 숨김 투표 등)을 활용하여 익명성 남용을 최소화하는 것이 중요합니다.
•	3) AI API 비용 및 성능: OpenAI의 GPT-3.5와 DALL·E API 사용은 호출 빈도에 따라 비용이 기하급수적으로 증가할 수 있습니다. 예를 들어, 이미지 생성은 1회당 $0.04, 텍스트 생성은 1,000토큰당 $0.002 정도의 비용이 발생하므로, 하루 수백 건만 생성돼도 비용이 상당할 수 있습니다. 서비스 초기에 이용 패턴을 모니터링하여 무료 생성 제한 정책을 적절히 조정해야 합니다. 추가로, AI 호출로 인한 응답 지연도 UX 저하 요인이므로, 프롬프트 최적화와 비동기 처리로 속도를 개선합니다. (글 작성 요청 시 AI 생성이 완료될 때까지 UI에서 로딩 애니메이션이나 progress bar를 제공하여 사용자의 이탈을 막습니다.) 캐싱을 통해 동일 결과 재활용, 중요하지 않은 부분은 클라이언트에서 처리하는 등 API 호출 최적화 전략을 지속적으로 발전시켜야 합니다. 또한 향후 OpenAI 정책이나 요금 변경에 대비해, 필요한 경우 대체 모델(예: 무료 Stable Diffusion 기반 이미지 생성 등)의 도입 가능성도 열어둘 것입니다.
•	4) 법적 준수(청소년 보호 및 개인정보): 공포 소재라 해도 청소년 유해매체로 분류될 수준은 지양해야 하며, 부득이하게 19금 요소가 포함될 경우 성인 인증이나 연령 제한 고지를 검토해야 합니다. 초기에는 노출 수위를 자체적으로 조절하여 성인 인증 없이도 문제가 없도록 운영할 방침입니다. 또한 익명 서비스라도 개인정보보호법을 준수해야 합니다. 쿠키를 통해 세션을 구분하고 IP 해시를 일시 보관하는 정도의 최소 데이터만 활용하며, 프라이버시 정책과 이용약관을 명확히 수립해 투명성을 확보합니다. 사용자가 작성한 콘텐츠에 대한 권리는 기본적으로 작성자에게 있으며, AI 생성물의 경우 저작권 이슈가 발생하지 않도록 **“AI 생성 콘텐츠는 저작권 보호 대상이 아닐 수 있음”**을 명시하여 분쟁 소지를 줄입니다. 서비스 운영자는 불법촬영물 등 불법 콘텐츠 발견 시 지체 없이 삭제하고 수사 협조 요청 시 관련 데이터를 제공하는 등 국내법 규제를 성실히 따릅니다.
•	5) 성능 확장성과 서버 비용: 무서핑은 서버리스 기반으로 시작하여 초기 비용을 낮추었지만, 커뮤니티 활성화로 트래픽이 증가하면 데이터베이스 부하나 서버리스 호출 비용이 급증할 수 있습니다. 이를 대비해 지표 기반 자동 확장 설정과 최적화된 쿼리 작성이 중요합니다. 예를 들어, 게시글 조회 API에는 인덱스를 활용한 쿼리를 작성하고, Redis 캐시를 적용해 DB 히트(hit)를 줄입니다. 또한 일정 트래픽 이상부터는 Supabase의 상위 플랜으로 업그레이드하거나, 콘텐츠 조회 전용으로 검색 엔진(예: ElasticSearch) 도입을 검토합니다. 서버리스 함수는 호출 빈도를 모니터링하여 과도한 루프나 중복 호출을 개선하고, 메모리 사용량도 주시하여 냉정한 비용 관리를 시행합니다. Vercel의 모니터링 도구로 함수별 실행 시간을 추적하고, 비효율적인 부분은 리팩터링함으로써 쓸데없는 비용 누수를 막을 것입니다.

以上의 PRD는 무서핑 서비스의 기획 의도와 기술 구현 계획, 그리고 운영상의 주안점을 상세히 기술한 것입니다. 핵심 기능들은 최신 웹 기술로 대부분 구현 가능하지만, 콘텐츠 품질 관리와 커뮤니티 가이드라인 집행이 수반되지 않으면 서비스의 장기적인 성공을 담보할 수 없습니다. 따라서 기술 개발과 더불어 운영 정책 수립, 사용자 피드백 수렴을 병행하며 서비스를 발전시켜나갈 계획입니다. 초기에는 작은 커뮤니티로 시작하겠지만, 안정적인 서비스 환경과 차별화된 공포 경험 제공을 통해 꾸준히 사용자층을 넓혀가는 것을 목표로 합니다.

